<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les poèmes de Christian Lambillotte | Recueil de poésie</title>
    <meta name="description" content="Découvrez la collection de poèmes de Christian Lambillotte. Une œuvre poétique unique à explorer et à partager.">
    <meta name="keywords" content="Christian Lambillotte, poèmes, poésie, recueil, littérature, poète">
    <meta name="author" content="Christian Lambillotte">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Les poèmes de Christian Lambillotte" id="og-title">
    <meta property="og:description" content="Découvrez la collection de poèmes de Christian Lambillotte. Une œuvre poétique unique à explorer et à partager." id="og-description">
    <meta property="og:image" content="" id="og-image">
    <meta property="og:locale" content="fr_FR">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Les poèmes de Christian Lambillotte" id="twitter-title">
    <meta name="twitter:description" content="Découvrez la collection de poèmes de Christian Lambillotte. Une œuvre poétique unique à explorer et à partager." id="twitter-description">
    <meta name="twitter:image" content="" id="twitter-image">
    
    <!-- Preconnect to Google Fonts for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@400;500;600;700;900&family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <!-- Adobe Fonts -->
    <link rel="stylesheet" href="https://use.typekit.net/siy1nvj.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-color: #f6f4f4;
            --paper-color: #fff;
            --text-primary: #000000;
            --text-secondary: rgba(0, 0, 0, 0.4);
            --text-muted: rgba(0, 0, 0, 0.2);
            --text-body: rgba(0, 0, 0, 0.5);
            --text-body-full: rgba(0, 0, 0, 0.65);
            --divider-color: rgba(0, 0, 0, 0.3);
            --shadow-spread: rgba(0, 0, 0, 0);
            --shadow-spread-hover: rgba(0, 0, 0, 0.015);
            --shadow-soft: rgba(0, 0, 0, 0.025);
            --shadow-softer: rgba(0, 0, 0, 0.015);
            --close-btn-hover: rgba(0, 0, 0, 0.05);
            --close-btn-stroke: rgba(0, 0, 0, 0.4);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #121212;
                --paper-color: #202020;
                --text-primary: #e5e5e5;
                --text-secondary: rgba(255, 255, 255, 0.5);
                --text-muted: rgba(255, 255, 255, 0.2);
                --text-body: rgba(255, 255, 255, 0.6);
                --text-body-full: rgba(255, 255, 255, 0.75);
                --divider-color: rgba(255, 255, 255, 0.2);
                --shadow-spread: rgba(0, 0, 0, 0);
                --shadow-spread-hover: rgba(255, 255, 255, 0.05);
                --shadow-soft: rgba(0, 0, 0, 0.3);
                --shadow-softer: rgba(0, 0, 0, 0.2);
                --close-btn-hover: rgba(255, 255, 255, 0.1);
                --close-btn-stroke: rgba(255, 255, 255, 0.5);
            }
        }

        html, body {
            height: 100%;
        }

        body {
            min-height: 100vh;
            background: var(--bg-color);
            font-family: 'Inter', sans-serif;
            padding: 60px 20px;
            position: relative;
        }

        ::selection {
            background: rgba(0, 0, 0, 0.1);
        }

        @media (prefers-color-scheme: dark) {
            ::selection {
                background: rgba(255, 255, 255, 0.2);
            }
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url(https://artlambi.github.io/poetry/img/noise.png);
            background-repeat: repeat;
            background-size: 100px 100px;
            transform: translateZ(0);
            mix-blend-mode: plus-darker;
            opacity: 0.08;
            pointer-events: none;
            z-index: 0;
        }

        @media (prefers-color-scheme: dark) {
            body::before {
                display: none;
            }
        }

        body > *:not(.page-footer) {
            position: relative;
            z-index: 1;
        }

        body.modal-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
            isolation: isolate;
        }

        .page-header {
            text-align: center;
            margin-bottom: 104px;
            transition: transform 0.3s ease, opacity 0.3s ease, filter 0.3s ease;
            transform-origin: center top;
        }

        .page-header.scrolled {
            transform: scale(0.88);
            opacity: 0.24;
            filter: blur(6px);
        }

        .page-header .subtitle {
            font-family: 'EB Garamond', serif;
            font-size: 30px;
            font-weight: 600;
            line-height: 36px;
            color: #000000;
            margin-bottom: 8px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease-out forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .page-header h1 {
            font-family: 'gill-sans-nova-condensed', sans-serif;
            font-weight: 900;
            font-size: 56px;
            line-height: 56px;
            color: #000000;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin: 0;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease-out forwards;
            animation-delay: 0.15s;
        }

        .page-footer {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
            padding: 80px 60px 18px 60px;
            margin-top: 40px;
        }

        .page-footer .copyright {
            font-family: 'EB Garamond', serif;
            font-size: 16px;
            color: rgba(51, 51, 51, 0.5);
            width: 100%;
            text-align: center;
            order: 2;
        }

        .page-footer .signature {
            width: 256px;
            max-width: 100%;
            height: auto;
            cursor: pointer;
            order: 1;
        }

        .page-footer .signature path {
            fill: none;
            stroke: #000;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-width: 1.75px;
            stroke-dasharray: 2000;
            stroke-dashoffset: 0;
        }

        /* Hover animation - only on devices with hover capability */
        @media (hover: hover) and (pointer: fine) {
            .page-footer .signature:hover path:nth-child(1) { 
                animation: drawSignatureReverse 1.0s cubic-bezier(0.4, 0, 0.2, 1) forwards;
                animation-delay: 0.1s; 
            }
            
            /* Hover animation - Letters */
            .page-footer .signature:hover path:nth-child(2) { 
                animation: drawSignature 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
                animation-delay: 0.2s; 
            }
            .page-footer .signature:hover path:nth-child(3) { 
                animation: drawSignature 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
                animation-delay: 0.4s; 
            }
            .page-footer .signature:hover path:nth-child(4) { 
                animation: drawSignature 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
                animation-delay: 0.55s; 
            }
            .page-footer .signature:hover path:nth-child(5) { 
                animation: drawSignature 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
                animation-delay: 0.65s; 
            }
            .page-footer .signature:hover path:nth-child(6) { 
                animation: drawSignature 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
                animation-delay: 0.7s; 
            }
            .page-footer .signature:hover path:nth-child(7) { 
                animation: drawSignature 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
                animation-delay: 0.75s; 
            }
            .page-footer .signature:hover path:nth-child(8) { 
                animation: drawSignature 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
                animation-delay: 0.8s; 
            }
        }

        @keyframes drawSignature {
            0% {
                stroke-dashoffset: 2000;
            }
            100% {
                stroke-dashoffset: 0;
            }
        }

        @keyframes drawSignatureReverse {
            0% {
                stroke-dashoffset: -2000;
            }
            100% {
                stroke-dashoffset: 0;
            }
        }

        .poem-grid {
            display: grid;
            grid-template-columns: repeat(3, 280px);
            gap: 96px min(144px, calc((100vw - 480px - 840px) / 2));
            margin: 0 240px;
            justify-content: center;
        }

        @media (max-width: 1320px) {
            .poem-grid {
                gap: 96px 80px;
                margin: 0 120px;
            }
        }

        @media (max-width: 1100px) {
            .poem-grid {
                grid-template-columns: repeat(2, 280px);
                gap: 96px 80px;
                margin: 0 80px;
            }
        }

        @media (max-width: 700px) {
            .poem-grid {
                grid-template-columns: 280px;
                gap: 96px;
                margin: 0 20px;
            }

            .page-header {
                margin-bottom: 64px;
            }
        }

        .poem-card {
            background: var(--paper-color);
            padding: 48px 30px 0 30px;
            cursor: pointer;
            transition: transform 0.1s ease-out, box-shadow 0.3s ease, opacity 0.2s ease;
            position: relative;
            width: 280px;
            height: 360px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: 0 1px 1px -1px rgba(0,0,0,0.02), 0 7px 6px -4px color(display-p3 0 0 0 / 0.06);
            overflow: hidden;
            mix-blend-mode: normal;
            transform-style: preserve-3d;
        }

        .poem-card-wrapper {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .poem-card-wrapper.visible {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 0.6s ease-out, transform 0.25s ease-in-out;
        }

        .poem-card-wrapper {
            perspective: 1000px;
        }

        @media (hover: hover) and (pointer: fine) {
            .poem-card-wrapper:hover {
                transform: scale(1.0962);
                z-index: 10;
            }

            .poem-card-wrapper:hover .poem-card {
                box-shadow: 0 30px 60px var(--shadow-soft), 0 15px 30px var(--shadow-softer);
            }

            .poem-card-wrapper:hover .poem-card .preview {
                color: rgba(0, 0, 0, 0.9);
            }

            .poem-card-wrapper:hover .hover-title {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .poem-card-wrapper .hover-title {
            font-family: 'EB Garamond', serif;
            font-size: 1.1rem;
            font-weight: 500;
            color: rgba(0, 0, 0, 0.8);
            margin-top: 20px;
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
            text-align: center;
        }

        /* Show titles on touch devices (tablets, phones) that don't support hover */
        @media (hover: none), (pointer: coarse) {
            .poem-card-wrapper .hover-title {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .poem-card .number {
            font-family: 'Cormorant Garamond', serif;
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 20px;
        }

        .poem-card .title {
            font-family: 'EB Garamond', serif;
            font-size: 17px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 6px;
            letter-spacing: 0.01em;
            display: none;
        }

        .poem-card .preview {
            font-family: 'EB Garamond', serif;
            font-size: 13px;
            font-style: normal;
            color: rgba(51, 51, 51, 0.72);
            line-height: 1.8;
            letter-spacing: -0.01em;
            flex: 1;
            overflow: hidden;
            white-space: pre-line;
            position: relative;
            padding-bottom: 35px;
            -webkit-mask-image: linear-gradient(to bottom, black 70%, transparent 100%);
            mask-image: linear-gradient(to bottom, black 70%, transparent 100%);
            transition: color 0.3s ease;
        }

        /* Fullscreen Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            z-index: 1000;
            pointer-events: none;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }

        .modal-paper {
            position: fixed;
            background: var(--paper-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 48px 30px 0 30px;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            opacity: 1;
        }

        .modal-paper .card-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 600px;
            overflow: hidden;
            position: relative;
            padding-top: 0;
            transition: padding-top 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal-paper .number {
            font-family: 'Cormorant Garamond', serif;
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 20px;
            transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal-paper .title {
            font-family: 'gill-sans-nova-condensed', sans-serif;
            font-size: 2rem;
            font-weight: 800;
            color: #000000;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0;
            transform: translateY(-20px);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            transition: opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1),
                        transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal-paper .poem-text {
            font-family: 'EB Garamond', serif;
            font-size: 13px;
            font-style: normal;
            color: #707070;
            line-height: 1.8;
            white-space: pre-line;
            padding-top: 0;
            -webkit-mask-image: linear-gradient(to bottom, black 70%, transparent 100%);
            mask-image: linear-gradient(to bottom, black 70%, transparent 100%);
            transition: font-size 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        color 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                        line-height 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                        padding-top 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal-paper.fullscreen {
            padding: 80px 120px;
            justify-content: flex-start;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .modal-paper.fullscreen::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 100px;
            background-image: linear-gradient(180deg, rgba(255,255,255,0.96) 0%, rgba(255,255,255,0.50) 75%, rgba(255,255,255,0.00) 100%);
            pointer-events: none;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-paper.fullscreen.scrolled::before {
            opacity: 1;
        }

        .modal-paper.fullscreen .card-content {
            overflow: visible;
            padding-top: 100px;
        }

        .modal-paper.fullscreen .title {
            font-family: 'gill-sans-nova-condensed', sans-serif;
            font-weight: 800;
            font-size: 40px;
            line-height: 56px;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 1;
            transform: translateY(0);
            filter: blur(0);
            transition: opacity 0.3s ease-out, top 0.3s ease-out, filter 0.3s ease-out, transform 0.3s ease-out;
        }

        .modal-paper.fullscreen .title.sticky {
            position: fixed;
            top: -40px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 32px;
            line-height: 40px;
            z-index: 15;
            opacity: 0;
            filter: blur(6px);
        }

        .modal-paper.fullscreen .title.sticky.visible {
            top: 30px;
            opacity: 1;
            filter: blur(0);
        }

        .modal-paper .author {
            display: none;
        }

        .modal-paper.fullscreen .author {
            display: none;
        }

        .modal-paper.fullscreen .poem-text {
            font-size: 24px;
            color: #000000;
            line-height: 33px;
            letter-spacing: -0.01em;
            padding-bottom: 40px;
            -webkit-mask-image: none;
            mask-image: none;
        }

        .modal-paper .poem-image-container {
            display: none;
        }

        .modal-paper.fullscreen .poem-image-container {
            display: block;
            width: 560px;
            max-width: 100%;
            margin-top: 40px;
            border: 1px solid #000000;
            overflow: hidden;
        }

        .modal-paper.fullscreen .poem-image {
            display: block;
            width: 100%;
            height: auto;
            transform: scale(var(--image-scale, 1.1));
            transform-origin: center center;
            transition: transform 0.15s ease-out;
        }

        .modal-paper.fullscreen .illustration-credit {
            font-family: 'EB Garamond', serif;
            font-size: 15px;
            font-weight: 400;
            color: rgba(0, 0, 0, 0.4);
            text-align: center;
            margin-top: 12px;
            opacity: 0;
            transition: opacity 0.4s ease-out 0.15s;
        }

        .modal-paper.fullscreen .illustration-credit a {
            color: inherit;
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .modal-paper.fullscreen .illustration-credit a:hover {
            color: rgba(0, 0, 0, 0.72);
        }

        .modal-paper.fullscreen .illustration-credit.visible {
            opacity: 1;
        }

        .modal-close {
            position: fixed;
            top: 30px;
            right: 30px;
            width: 40px;
            height: 40px;
            border: none;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s ease, opacity 0.3s ease 0.3s;
            opacity: 0;
            z-index: 1001;
        }

        .modal-overlay.active .modal-close {
            opacity: 1;
        }

        .modal-close:hover {
            background: var(--close-btn-hover);
        }

        .modal-close svg {
            width: 20px;
            height: 20px;
            stroke: var(--close-btn-stroke);
            fill: none;
            stroke-width: 2;
        }

        .modal-content {
            display: none;
        }

        /* Dark mode */
        @media (prefers-color-scheme: dark) {
            body {
                background: #121212;
            }

            .page-header .subtitle {
                color: #cccccc;
            }

            .page-header h1 {
                color: #cccccc;
            }

            .poem-card {
                background: #202020;
                box-shadow: 0 0 0 1px rgba(255, 255, 255, 0);
            }

            .poem-card .number {
                color: rgba(255,255,255,0.2);
            }

            .poem-card .title {
                color: #e5e5e5;
            }

            .poem-card .preview {
                color: #cccccc;
            }

            .poem-card-wrapper .hover-title {
                color: #cccccc;
            }

            .modal-paper {
                background: #202020;
            }

            .modal-paper.fullscreen::before {
                background-image: linear-gradient(180deg, rgba(32,32,32,0.96) 0%, rgba(32,32,32,0.50) 75%, rgba(32,32,32,0.00) 100%);
            }

            .modal-paper .number {
                color: rgba(255,255,255,0.2);
            }

            .modal-paper .title {
                color: #cccccc;
            }

            .modal-paper.fullscreen .author {
                color: rgba(255, 255, 255, 0.5);
            }

            .modal-paper .poem-text {
                color: #cccccc;
            }

            .modal-paper.fullscreen .poem-text {
                color: #cccccc;
            }

            .modal-close svg {
                stroke: rgba(255,255,255,0.4);
            }

            .modal-close:hover {
                background: rgba(255,255,255,0.05);
            }

            .page-footer .copyright {
                color: rgba(255, 255, 255, 0.5);
            }

            .page-footer .signature path {
                stroke: #fff;
            }

            .modal-paper.fullscreen .illustration-credit {
                color: rgba(255, 255, 255, 0.4);
            }

            .modal-paper.fullscreen .illustration-credit a:hover {
                color: rgba(255, 255, 255, 0.72);
            }
        }

        @media (prefers-color-scheme: dark) and (hover: hover) and (pointer: fine) {
            .poem-card-wrapper:hover .poem-card {
                box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.03), 0 30px 60px rgba(0, 0, 0, 0.08), 0 15px 30px rgba(0, 0, 0, 0.05);
            }

            .poem-card-wrapper:hover .poem-card .preview {
                color: #ffffff;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 40px 15px;
            }

            .poem-card {
                padding: 28px 24px;
            }

            .poem-card .title {
                font-size: 1.3rem;
            }

            .poem-card-wrapper .hover-title {
                opacity: 1;
                transform: translateY(0);
            }

            .modal-paper.fullscreen {
                padding: 60px 40px;
            }

            .modal-paper.fullscreen .title {
                font-size: 1.6rem;
            }

            .modal-paper.fullscreen .title.sticky {
                font-size: 1.6rem;
                line-height: 1.2;
            }

            .modal-paper.fullscreen .poem-text {
                font-size: 1.1rem;
            }

            .page-header .subtitle {
                font-size: 24px;
            }

            .page-header h1 {
                font-size: 36px;
                line-height: 1.0;
            }
        }

        /* Noscript fallback styles */
        noscript .poem-article {
            max-width: 600px;
            margin: 40px auto;
            padding: 20px;
            background: var(--paper-color);
        }
        
        noscript .poem-article h2 {
            font-family: 'EB Garamond', serif;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }
        
        noscript .poem-article p {
            font-family: 'EB Garamond', serif;
            font-style: italic;
            color: var(--text-body);
            line-height: 1.8;
        }
    </style>
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "CollectionPage",
        "name": "Les poèmes de Christian Lambillotte",
        "description": "Recueil de poèmes de Christian Lambillotte",
        "author": {
            "@type": "Person",
            "name": "Christian Lambillotte"
        },
        "mainEntity": {
            "@type": "ItemList",
            "itemListElement": [
                {
                    "@type": "CreativeWork",
                    "position": 1,
                    "name": "30 ans en 30 lignes",
                    "@id": "#30-ans-en-30-lignes"
                },
                {
                    "@type": "CreativeWork",
                    "position": 2,
                    "name": "L'essentiel retrouvé ?",
                    "@id": "#l-essentiel-retrouve"
                },
                {
                    "@type": "CreativeWork",
                    "position": 3,
                    "name": "Anaïs",
                    "@id": "#anais"
                },
                {
                    "@type": "CreativeWork",
                    "position": 4,
                    "name": "Le foetus et le squelette",
                    "@id": "#le-foetus-et-le-squelette"
                },
                {
                    "@type": "CreativeWork",
                    "position": 5,
                    "name": "Ode à la pomme de terre",
                    "@id": "#ode-a-la-pomme-de-terre"
                },
                {
                    "@type": "CreativeWork",
                    "position": 6,
                    "name": "L'Orpheline de guerre...",
                    "@id": "#l-orpheline-de-guerre"
                }
            ]
        }
    }
    </script>
</head>
<body>
    <header class="page-header">
        <p class="subtitle">Les poèmes de</p>
        <h1>Christian Lambillotte</h1>
    </header>

    <!-- Main content for SEO - poems rendered in semantic HTML -->
    <main>
        <div class="poem-grid" id="grid">
        <!-- Poems will be inserted here -->
        </div>

        <!-- Noscript fallback for search engines and users without JS -->
        <noscript>
            <article class="poem-article" id="30-ans-en-30-lignes">
                <h2>30 ans en 30 lignes</h2>
                <p>Avoir trente ans, et réfléchir
Leçons du passé, espoirs et désirs

Es-tu à un peu moins d'un tiers, à la moitié ?
Impossible à prédire, ni à deviner
C'est le parcours qui compte, et ses virages
Les choix à faire. Et le bagage

De plus en plus à faire, à découvrir
En toujours moins de temps
Et en être très conscient
Oui, cela fait parfois souffrir

Une femme à chérir, des enfants à éduquer
L'amour à aimer. L'amitié à partager
Le boulot qui te permet de vivre
Sans que l'ambition ne te rende ivre

Des malchances à gérer
Des peines, inévitables, à accepter
Du bonheur à cultiver
Des rires et des larmes à mêler

Sans cesse aussi se développer
Et être conscient de l'absurdité
Du nationalisme extrême et de certaines religions
Tu ne voudras pas mourir couillon…

Plus tu apprendras, et moins tu sauras
Triste frustration, mais c'est comme ça
Le sprint prendra la place du marathon
Et parfois pourtant tu n'avanceras qu'à tâtons

Vise à pouvoir dire, à la fin :
''Je suis content de mon chemin
C'est fini ? Tant pis et… salut…
Mais quelle tristesse qu'on ne se verra plus...''</p>
            </article>
            <article class="poem-article" id="l-essentiel-retrouve">
                <h2>L'essentiel retrouvé ?</h2>
                <p>Humanité, amitié, fraternité :
Voilà l'essentiel, oublié

Les raisons en sont nombreuses
Et, hélas, souvent scabreuses

Carrière, ambitions, argent
Prestige, luxe éblouissant

Nationalisme frénétique
Religions fanatiques

Le grand « je », le grand « nous »
Oubliant le « tu », et le « vous »

Ou pire encore, crachant dessus
Les autres ? Que de superflus…

Ma petite-fille aura bientôt un an
Mais quel avenir l'attend ?

Nous ne pourrons nous voir pour la fêter
Et j'en ai déjà le cœur brisé

Je n'ai jamais prié, n'y trouvant aucun réconfort
Mais pour Anaïs, je veux bien faire un effort

Espérant qu'à la fin de cette misère
Apparaisse enfin un brin de lumière

Qui lui ouvre un nouveau ciel
Qui lui apprend le véritable essentiel

Non pas celui du passé
Mais celui d'une seule humanité

Unie, forte et déterminée
A redécouvrir la vraie fraternité…</p>
            </article>
            <article class="poem-article" id="anais">
                <h2>Anaïs</h2>
                <p>Dire que tu n'as même pas un an…
Toi, fruit de l'amour de tes parents
Jamais sans doute tu ne sauras
Combien j'ai rêvé de toi

Pendant de nombreuses années je me suis dit :
J'aimerais tellement avoir une petite-fille
Et puis voilà, tu es arrivée
Grande, forte, et déjà étonnée

Douce Anaïs, souriante, encore bébé
C'est inévitable, je ne peux que t'aimer
Tes superbes yeux bleus
Reflets des océans et des cieux

Ne sont qu'un seul témoin de ta beauté
Que ton caractère ne fait que renforcer
Ta volonté de vouloir t'élever
De marcher dès demain sur tes deux pieds

Est preuve de vouloir avancer
Prête à découvrir le monde entier
Va ! Va et s'il te plaît jouis
De tous les plaisirs de la vie

Fais face avec courage aux contretemps
Qui ne seront alors que des passants
Et même quand ils seraient trop durs à supporter
Sache que ceux qui t'aiment seront toujours à tes côtés

A tout jamais je serai ton Papy Junior
A tout jamais, même après ma m...</p>
            </article>
            <article class="poem-article" id="le-foetus-et-le-squelette">
                <h2>Le foetus et le squelette</h2>
                <p>Deux conditions, de deux vies
L'une à commencer, l'autre finie
Le fœtus est, mais pas encore vraiment
Le squelette n'est plus, depuis longtemps

Tout à apprendre d'un côté
L'autre déjà presqu'oublié
Séparés par la vie
Cette drôle d'histoire, jamais choisie

J'imagine une conversation
Entre ces deux faux compagnons
(Le fœtus en italique
L'autre plus classique)

Je vois une lumière, là, à l'horizon !
Ne te fais pas trop d'illusions
Je ne comprends pas
Sois patient et tu verras

Raconte-moi du moins ton vécu
A toi qui n'est qu'au début ?
Je meurs d'apprendre, dis-moi !
Hé, tu parles à un mort, ça va ?

Pardon, j'avais presqu'oublié…
Que je suis presque désossé ?
Pour moi, c'est encore l'obscurité
Moi, je l'ai retrouvée

Que puis-je attendre de la vie ?
Du bonheur, et bien de soucis
Parle-moi de l'amour
Celui d'un jour ou « pour toujours » ?

Cela m'est bien égal
Des joies qui peuvent faire mal
Et des enfants, tu en as, dis ?
Oui, deux, à mon avis…

Tu me sembles un peu douter
Non, non, je ne faisais que rêver
Quoi, tu en voulais plus encore ?
Bien sûr, mais j'avais tort

Réponse bizarre, et je ne suis pas devin
On ne choisit pas son destin
Je ne comprends toujours pas
On donne, on prend, et c'est comme ça

En somme, la vie vaut-elle la peine ?
Pleine de surprises, souvent sereine
C'est quoi ce charabia ??
Relis tes questions, et tu verras

As-tu jamais eu peur de mourir ?
Je suis mort armé d'un sourire
Je te comprends de moins en moins
Il faut bien que tout ait une fin

Mais dis-moi donc ce qui m'attend !
Je ne sais pas, cela dépend
De qui, de quoi, par pitié ?
De ceux que tu vas rencontrer

Je ne sais vraiment plus quoi penser
Bienvenu à la fatalité
Une toute dernière question ?
Je t'écoute, vas-y, sans façon

La vie n'est-elle qu'un interlude ?
Bien entendu, c'est une certitude
Le néant avant, le néant après ?
……………………………………… 

Le squelette, sachant
Resta muet</p>
            </article>
            <article class="poem-article" id="ode-a-la-pomme-de-terre">
                <h2>Ode à la pomme de terre</h2>
                <p>Oh Chère Patate

Quand je t'ai vue
Pour la première fois
Tu ne me faisais
Ni chaud ni froid

J'avais encore
Un très jeune âge
Et toi, tu te trouvais
Dans mon potage

Plus tard j'ai commencé 
A te trouver chouette
Succulente même
Sous ta forme de croquette


En tant que 
Pomme vapeur
Tu me mets 
Tout en chaleur


Et non, ce n'est pas 
Dans la friture
Que tu prends ton aspect
 Le plus pure

Quoique, quand tu deviens
 Pomme allumette
Je ne peux qu'admirer
 Ta svelte silhouette

Et quand je te vois 
En chemise
L'extase n'est plus 
Une surprise


Finalement, et je l'affirme 
Sans me gêner
J'adore tellement
 Te faire sauter

As-tu droit 
A un titre de noblesse ?
Bien sûr mon amie
Que penses-tu de… Duchesse ?


Chère Patate,
S'il te plaît
Ne nous laisse jamais tomber
Sinon c'est nous
Qui serions… dans la purée….</p>
            </article>
            <article class="poem-article" id="l-orpheline-de-guerre">
                <h2>L'Orpheline de guerre...</h2>
                <p>Je suis un GRAND enfant
J'aurai bientôt NEUF ans !

On me dit : "Tu n'as plus de parents"
Depuis très très longtemps

Je ne comprends pas
Essaie de savoir pourquoi

Des vieux m'ont fait savoir
Que je ne pourrai plus les voir

Il paraît qu'une bombe est tombée
Tout juste dans notre cheminée

Il y avait un grand éclat
Et mes parents n'étaient plus là

Mon petit frère non plus
Lui aussi avait disparu

Je me souviens d'une grosse poussière
Comme si c'était arrivé hier

L'obscurité m'a fait très peur
Des voisins m'ont trouvée en pleurs

Ils m'ont pris dans leurs bras
Pour m'enlever loin de chez moi

Je n'ai toujours pas compris
Pourquoi je me trouve ici

Loin de Maman, loin de Papa
On m'a dit qu'ils sont dans l'au-delà

C'est où, cet endroit ?
Pourquoi n'en reviennent-ils pas ?

Il y a des trains, des voitures, des avions…
Les chemins sont-ils tellement longs ?

Je continue à espérer
Qu'un jour je puisse les retrouver

Ailleurs, très très loin d'ici
Et à y vivre, ensemble, sans soucis

J'aimerais tellement rester enfant
Et grandir en m'amusant…</p>
            </article>
        </noscript>
    </main>

    <footer class="page-footer">
        <p class="copyright">©<span id="year"></span>. Tous droits réservés</p>
        <svg class="signature" viewBox="0 -5 1080 321" aria-label="Christian Lambillotte signature">
            <path d="M1059.29,8.47c-94.87,14.4-381.18,105.04-462.49,132.14-81.32,27.11-256.66,92.33-396.42,142.31s-166.17,20.21-172.8,10.16c-9.32-14.12.85-39.53,107.58-111.81C251.1,102.75,373.05,40.5,437.39,40.72"/>
            <path d="M363.85,213.46s17.7,44.05,176.15-149.93l-111.39,138.64s58.35-66.45,48.19-50.26-38.21,55.72-9.22,29.93,41.6-42.92,41.6-42.92c0,0-19.76,30.87,38.21-11.29,0,0-63.62,69.46,27.11-1.69,0,0-51.93,53.56,14.68,2.26,55.72-42.92,35.76,1.88,20.71,1.88"/>
            <path d="M729.78,0s-60.41,99.94-74.81,121.69c0,0,50.53-67.47,83.85-70.86"/>
            <path d="M577.88,113.79s7.34,1.27,14.96-5.65"/>
            <path d="M745.03,77.74s-12.59,12.35-4.04,16.91"/>
            <path d="M764.23,68.33s4.14,2.45,10.92-2.07"/>
            <path d="M792.18,73.13"/>
            <path d="M788.23,72.83s7.91-4.32,15.53-5.83,14.68-4.34,21.74-8.15,10.73-5.5,21.18-4.94,13.27-.85,18.92-4.24,17.51-6.21,27.11-6.78"/>
        </svg>
    </footer>

    <div class="modal-overlay" id="modal">
        <div class="modal-paper" id="modalPaper">
            <div class="card-content">
                <h2 class="title" id="modalTitle"></h2>
                <p class="author" id="modalAuthor">Christian Lambillotte</p>
                <div class="poem-text" id="modalText"></div>
                <div class="poem-image-container" id="modalImageContainer">
                    <img class="poem-image" id="modalImage" src="" alt="">
                </div>
                <p class="illustration-credit" id="illustrationCredit">Illustré par <a href="https://artlambi.be/" target="_blank" rel="noopener">Arthur Lambillotte</a></p>
            </div>
        </div>
        <button class="modal-close" id="closeBtn" aria-label="Close">
            <svg viewBox="0 0 24 24">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
    </div>

    <script>
        const poems = [
            {
                title: "30 ans en 30 lignes",
                text: `Avoir trente ans, et réfléchir
Leçons du passé, espoirs et désirs

Es-tu à un peu moins d'un tiers, à la moitié ?
Impossible à prédire, ni à deviner
C'est le parcours qui compte, et ses virages
Les choix à faire. Et le bagage

De plus en plus à faire, à découvrir
En toujours moins de temps
Et en être très conscient
Oui, cela fait parfois souffrir

Une femme à chérir, des enfants à éduquer
L'amour à aimer. L'amitié à partager
Le boulot qui te permet de vivre
Sans que l'ambition ne te rende ivre

Des malchances à gérer
Des peines, inévitables, à accepter
Du bonheur à cultiver
Des rires et des larmes à mêler

Sans cesse aussi se développer
Et être conscient de l'absurdité
Du nationalisme extrême et de certaines religions
Tu ne voudras pas mourir couillon…

Plus tu apprendras, et moins tu sauras
Triste frustration, mais c'est comme ça
Le sprint prendra la place du marathon
Et parfois pourtant tu n'avanceras qu'à tâtons

Vise à pouvoir dire, à la fin :
''Je suis content de mon chemin
C'est fini ? Tant pis et… salut…
Mais quelle tristesse qu'on ne se verra plus...''`
            },
            {
                title: "L'essentiel retrouvé ?",
                text: `Humanité, amitié, fraternité :
Voilà l'essentiel, oublié

Les raisons en sont nombreuses
Et, hélas, souvent scabreuses

Carrière, ambitions, argent
Prestige, luxe éblouissant

Nationalisme frénétique
Religions fanatiques

Le grand « je », le grand « nous »
Oubliant le « tu », et le « vous »

Ou pire encore, crachant dessus
Les autres ? Que de superflus…

Ma petite-fille aura bientôt un an
Mais quel avenir l'attend ?

Nous ne pourrons nous voir pour la fêter
Et j'en ai déjà le cœur brisé

Je n'ai jamais prié, n'y trouvant aucun réconfort
Mais pour Anaïs, je veux bien faire un effort

Espérant qu'à la fin de cette misère
Apparaisse enfin un brin de lumière

Qui lui ouvre un nouveau ciel
Qui lui apprend le véritable essentiel

Non pas celui du passé
Mais celui d'une seule humanité

Unie, forte et déterminée
A redécouvrir la vraie fraternité…`
            },
            {
                title: "Anaïs",
                text: `Dire que tu n'as même pas un an…
Toi, fruit de l'amour de tes parents
Jamais sans doute tu ne sauras
Combien j'ai rêvé de toi

Pendant de nombreuses années je me suis dit :
J'aimerais tellement avoir une petite-fille
Et puis voilà, tu es arrivée
Grande, forte, et déjà étonnée

Douce Anaïs, souriante, encore bébé
C'est inévitable, je ne peux que t'aimer
Tes superbes yeux bleus
Reflets des océans et des cieux

Ne sont qu'un seul témoin de ta beauté
Que ton caractère ne fait que renforcer
Ta volonté de vouloir t'élever
De marcher dès demain sur tes deux pieds

Est preuve de vouloir avancer
Prête à découvrir le monde entier
Va ! Va et s'il te plaît jouis
De tous les plaisirs de la vie

Fais face avec courage aux contretemps
Qui ne seront alors que des passants
Et même quand ils seraient trop durs à supporter
Sache que ceux qui t'aiment seront toujours à tes côtés

A tout jamais je serai ton Papy Junior
A tout jamais, même après ma m...`
            },
            {
                title: "Le foetus et le squelette",
                image: "https://artlambi.github.io/poetry/img/foetus-squelette.jpg",
                text: `Deux conditions, de deux vies
L'une à commencer, l'autre finie
Le fœtus est, mais pas encore vraiment
Le squelette n'est plus, depuis longtemps

Tout à apprendre d'un côté
L'autre déjà presqu'oublié
Séparés par la vie
Cette drôle d'histoire, jamais choisie

J'imagine une conversation
Entre ces deux faux compagnons
(Le fœtus en italique
L'autre plus classique)

<em>Je vois une lumière, là, à l'horizon !</em>
Ne te fais pas trop d'illusions
<em>Je ne comprends pas</em>
Sois patient et tu verras

<em>Raconte-moi du moins ton vécu</em>
A toi qui n'est qu'au début ?
<em>Je meurs d'apprendre, dis-moi !</em>
Hé, tu parles à un mort, ça va ?

<em>Pardon, j'avais presqu'oublié…</em>
Que je suis presque désossé ?
<em>Pour moi, c'est encore l'obscurité</em>
Moi, je l'ai retrouvée

<em>Que puis-je attendre de la vie ?</em>
Du bonheur, et bien de soucis
<em>Parle-moi de l'amour</em>
Celui d'un jour ou « pour toujours » ?

<em>Cela m'est bien égal</em>
Des joies qui peuvent faire mal
<em>Et des enfants, tu en as, dis ?</em>
Oui, deux, à mon avis…

<em>Tu me sembles un peu douter</em>
Non, non, je ne faisais que rêver
<em>Quoi, tu en voulais plus encore ?</em>
Bien sûr, mais j'avais tort

<em>Réponse bizarre, et je ne suis pas devin</em>
On ne choisit pas son destin
<em>Je ne comprends toujours pas</em>
On donne, on prend, et c'est comme ça

<em>En somme, la vie vaut-elle la peine ?</em>
Pleine de surprises, souvent sereine
<em>C'est quoi ce charabia ??</em>
Relis tes questions, et tu verras

<em>As-tu jamais eu peur de mourir ?</em>
Je suis mort armé d'un sourire
<em>Je te comprends de moins en moins</em>
Il faut bien que tout ait une fin

<em>Mais dis-moi donc ce qui m'attend !</em>
Je ne sais pas, cela dépend
<em>De qui, de quoi, par pitié ?</em>
De ceux que tu vas rencontrer

<em>Je ne sais vraiment plus quoi penser</em>
Bienvenu à la fatalité
<em>Une toute dernière question ?</em>
Je t'écoute, vas-y, sans façon

<em>La vie n'est-elle qu'un interlude ?</em>
Bien entendu, c'est une certitude
<em>Le néant avant, le néant après ?</em>
……………………………………… 

Le squelette, sachant
Resta muet`
            },
            {
                title: "Ode à la pomme de terre",
                image: "https://artlambi.github.io/poetry/img/pomme-de-terre.jpg",
                text: `Oh Chère Patate

Quand je t'ai vue
Pour la première fois
Tu ne me faisais
Ni chaud ni froid

J'avais encore
Un très jeune âge
Et toi, tu te trouvais
Dans mon potage

Plus tard j'ai commencé 
A te trouver chouette
Succulente même
Sous ta forme de croquette


En tant que 
Pomme vapeur
Tu me mets 
Tout en chaleur


Et non, ce n'est pas 
Dans la friture
Que tu prends ton aspect
 Le plus pure

Quoique, quand tu deviens
 Pomme allumette
Je ne peux qu'admirer
 Ta svelte silhouette

Et quand je te vois 
En chemise
L'extase n'est plus 
Une surprise


Finalement, et je l'affirme 
Sans me gêner
J'adore tellement
 Te faire sauter

As-tu droit 
A un titre de noblesse ?
Bien sûr mon amie
Que penses-tu de… Duchesse ?


Chère Patate,
S'il te plaît
Ne nous laisse jamais tomber
Sinon c'est nous
Qui serions… dans la purée….`
            },
            {
                title: "L'Orpheline de guerre...",
                text: `Je suis un GRAND enfant
J'aurai bientôt NEUF ans !

On me dit : "Tu n'as plus de parents"
Depuis très très longtemps

Je ne comprends pas
Essaie de savoir pourquoi

Des vieux m'ont fait savoir
Que je ne pourrai plus les voir

Il paraît qu'une bombe est tombée
Tout juste dans notre cheminée

Il y avait un grand éclat
Et mes parents n'étaient plus là

Mon petit frère non plus
Lui aussi avait disparu

Je me souviens d'une grosse poussière
Comme si c'était arrivé hier

L'obscurité m'a fait très peur
Des voisins m'ont trouvée en pleurs

Ils m'ont pris dans leurs bras
Pour m'enlever loin de chez moi

Je n'ai toujours pas compris
Pourquoi je me trouve ici

Loin de Maman, loin de Papa
On m'a dit qu'ils sont dans l'au-delà

C'est où, cet endroit ?
Pourquoi n'en reviennent-ils pas ?

Il y a des trains, des voitures, des avions…
Les chemins sont-ils tellement longs ?

Je continue à espérer
Qu'un jour je puisse les retrouver

Ailleurs, très très loin d'ici
Et à y vivre, ensemble, sans soucis

J'aimerais tellement rester enfant
Et grandir en m'amusant…`
            }
        ];

        let currentIndex = 0;
        let clickedCard = null;
        let savedScrollPosition = 0;
        const grid = document.getElementById('grid');
        const modal = document.getElementById('modal');
        const modalPaper = document.getElementById('modalPaper');

        // Deep linking helper functions
        function getSlug(title) {
            return title.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, '');
        }

        function updateHash() {
            try {
                const slug = getSlug(poems[currentIndex].title);
                history.replaceState(null, '', '#' + slug);
            } catch (e) {
                // Ignore errors in iframe/restricted contexts
            }
        }

        function clearHash() {
            try {
                history.replaceState(null, '', window.location.pathname);
            } catch (e) {
                // Ignore errors in iframe/restricted contexts
            }
        }

        // Create grid cards
        poems.forEach((poem, index) => {
            const wrapper = document.createElement('div');
            wrapper.className = 'poem-card-wrapper';
            
            const card = document.createElement('div');
            card.className = 'poem-card';
            card.dataset.index = index;
            card.innerHTML = `
                <h2 class="title">${poem.title}</h2>
                <p class="preview">${poem.text}</p>
            `;
            card.addEventListener('click', function() {
                openModal(index, card);
                updateHash();
            });

            // Cursor-following 3D tilt effect
            card.addEventListener('mousemove', function(e) {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const rotateX = (y - centerY) / centerY * -1.5;
                const rotateY = (x - centerX) / centerX * 1.5;
                card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            });

            card.addEventListener('mouseleave', function() {
                card.style.transform = 'rotateX(0) rotateY(0)';
            });
            
            const hoverTitle = document.createElement('div');
            hoverTitle.className = 'hover-title';
            hoverTitle.textContent = poem.title;
            
            wrapper.appendChild(card);
            wrapper.appendChild(hoverTitle);
            grid.appendChild(wrapper);
        });

        function openModal(index, card) {
            currentIndex = index;
            clickedCard = card;
            
            const poem = poems[currentIndex];
            
            // Set full content immediately (overflow hidden will clip it)
            document.getElementById('modalTitle').textContent = poem.title;
            // Convert line breaks to <br> while preserving HTML tags like <em>
            document.getElementById('modalText').innerHTML = poem.text.replace(/\n/g, '<br>');
            
            // Set image if available
            const modalImage = document.getElementById('modalImage');
            const modalImageContainer = document.getElementById('modalImageContainer');
            const illustrationCredit = document.getElementById('illustrationCredit');
            if (poem.image) {
                modalImage.src = poem.image;
                modalImage.alt = 'Illustration pour ' + poem.title;
                modalImage.classList.remove('zoomed-out');
                modalImageContainer.style.display = '';
                illustrationCredit.style.display = '';
                illustrationCredit.classList.remove('visible');
            } else {
                modalImage.src = '';
                modalImageContainer.style.display = 'none';
                illustrationCredit.style.display = 'none';
            }
            
            // Save scroll position before hiding body
            savedScrollPosition = window.scrollY;
            
            // Hide card
            card.style.opacity = '0';
            
            // Get the clicked card's position
            const rect = card.getBoundingClientRect();
            
            // Set initial position to match the card
            modalPaper.style.transition = 'none';
            modalPaper.classList.remove('fullscreen');
            modalPaper.style.top = rect.top + 'px';
            modalPaper.style.left = rect.left + 'px';
            modalPaper.style.width = rect.width + 'px';
            modalPaper.style.height = rect.height + 'px';
            
            // Force reflow
            modalPaper.offsetHeight;
            
            // Show modal and animate to fullscreen
            modal.classList.add('active');
            
            // Animate to fullscreen
            modalPaper.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
            modalPaper.style.top = '0';
            modalPaper.style.left = '0';
            modalPaper.style.width = '100vw';
            modalPaper.style.height = '100vh';
            modalPaper.classList.add('fullscreen');
            
            // Lock body scroll with saved position
            document.body.style.top = `-${savedScrollPosition}px`;
            document.body.classList.add('modal-open');
        }

        function closeModal() {
            if (clickedCard) {
                // Restore scroll position before getting rect
                document.body.classList.remove('modal-open');
                document.body.style.top = '';
                window.scrollTo(0, savedScrollPosition);
                
                // Reset modal scroll position and remove scrolled class
                modalPaper.scrollTop = 0;
                modalPaper.classList.remove('scrolled');
                document.getElementById('modalTitle').classList.remove('sticky', 'visible', 'at-top');
                
                const rect = clickedCard.getBoundingClientRect();
                const cardContent = modalPaper.querySelector('.card-content');
                
                // Set current padding inline so it can transition when fullscreen class is removed
                cardContent.style.paddingTop = '100px';
                
                // Force reflow
                cardContent.offsetHeight;
                
                // Now animate padding to 0
                cardContent.style.paddingTop = '0';
                
                // Hide controls
                document.querySelector('.modal-close').style.opacity = '0';
                
                // Animate back to card position
                modalPaper.classList.remove('fullscreen');
                modalPaper.style.top = rect.top + 'px';
                modalPaper.style.left = rect.left + 'px';
                modalPaper.style.width = rect.width + 'px';
                modalPaper.style.height = rect.height + 'px';
                
                // Fade out modal paper and show card at the end
                setTimeout(() => {
                    modalPaper.style.opacity = '0';
                    clickedCard.style.opacity = '1';
                }, 400);
                
                setTimeout(() => {
                    modal.classList.remove('active');
                    modalPaper.style.opacity = '1';
                    cardContent.style.paddingTop = '';
                    // Reset controls
                    document.querySelector('.modal-close').style.opacity = '';
                }, 550);
            } else {
                modal.classList.remove('active');
                document.body.classList.remove('modal-open');
                document.body.style.top = '';
                window.scrollTo(0, savedScrollPosition);
            }
        }

        document.getElementById('closeBtn').addEventListener('click', () => {
            closeModal();
            setTimeout(clearHash, 550);
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
                setTimeout(clearHash, 550);
            }
        });

        document.addEventListener('keydown', (e) => {
            if (!modal.classList.contains('active')) return;
            
            if (e.key === 'Escape') {
                closeModal();
                setTimeout(clearHash, 550);
            }
        });

        function openPoemByHash() {
            const hash = window.location.hash.slice(1);
            if (hash) {
                const index = poems.findIndex(p => getSlug(p.title) === hash);
                if (index !== -1) {
                    const poem = poems[index];
                    const card = document.querySelector(`.poem-card[data-index="${index}"]`);
                    
                    // Update Open Graph and Twitter meta tags
                    document.getElementById('og-title').setAttribute('content', poem.title + ' - Christian Lambillotte');
                    document.getElementById('og-description').setAttribute('content', poem.text.substring(0, 150) + '...');
                    document.getElementById('twitter-title').setAttribute('content', poem.title + ' - Christian Lambillotte');
                    document.getElementById('twitter-description').setAttribute('content', poem.text.substring(0, 150) + '...');
                    
                    if (poem.image) {
                        document.getElementById('og-image').setAttribute('content', poem.image);
                        document.getElementById('twitter-image').setAttribute('content', poem.image);
                    }
                    
                    if (card) {
                        openModal(index, card);
                        updateHash();
                    }
                }
            }
        }

        // Check for hash on page load
        window.addEventListener('load', openPoemByHash);
        window.addEventListener('hashchange', openPoemByHash);

        // Update copyright year
        document.getElementById('year').textContent = new Date().getFullYear();

        // Header scroll effect
        const pageHeader = document.querySelector('.page-header');
        const headerHeight = pageHeader.offsetHeight;
        
        window.addEventListener('scroll', function() {
            if (window.scrollY > headerHeight * 0.75) {
                pageHeader.classList.add('scrolled');
            } else {
                pageHeader.classList.remove('scrolled');
            }
        });

        // Staggered row animation on load
        const cardWrappers = document.querySelectorAll('.poem-card-wrapper');
        const cardsPerRow = window.innerWidth > 1100 ? 3 : window.innerWidth > 700 ? 2 : 1;
        
        cardWrappers.forEach((wrapper, index) => {
            const row = Math.floor(index / cardsPerRow);
            setTimeout(() => {
                wrapper.classList.add('visible');
            }, 500 + (row * 120));
        });

        // Modal scroll handler for top fade effect and image zoom
        let lastModalScrollTop = 0;
        let isScrollingUp = false;
        
        document.getElementById('modalPaper').addEventListener('scroll', function() {
            const currentScrollTop = this.scrollTop;
            isScrollingUp = currentScrollTop < lastModalScrollTop;
            lastModalScrollTop = currentScrollTop;
            
            if (currentScrollTop > 20) {
                this.classList.add('scrolled');
            } else {
                this.classList.remove('scrolled');
            }
            
            // Show sticky title when scrolling up and main title is out of view
            const modalTitle = document.getElementById('modalTitle');
            const titleOriginalTop = 100; // padding-top of card-content
            const titleOutOfView = currentScrollTop > titleOriginalTop + 60; // title height ~60px
            
            if (isScrollingUp && titleOutOfView) {
                // Scrolling up and title would be out of view - make it sticky
                if (!modalTitle.classList.contains('sticky')) {
                    modalTitle.classList.add('sticky');
                    // Force reflow so browser registers the initial state
                    modalTitle.offsetHeight;
                    modalTitle.classList.add('visible');
                }
            } else if (isScrollingUp && !titleOutOfView && currentScrollTop > 0) {
                // Still scrolling up but title would be in view - keep sticky
                modalTitle.classList.add('sticky', 'visible');
            } else if (currentScrollTop === 0) {
                // Fully at top - instant remove
                modalTitle.classList.remove('sticky', 'visible');
            } else if (!isScrollingUp) {
                // Scrolling down - remove sticky, let it scroll naturally
                modalTitle.classList.remove('sticky', 'visible');
            }
            
            // Image zoom effect - progressive based on visibility
            const modalImage = document.getElementById('modalImage');
            const modalImageContainer = document.getElementById('modalImageContainer');
            const illustrationCredit = document.getElementById('illustrationCredit');
            
            if (modalImage.src && modalImageContainer.style.display !== 'none') {
                const containerRect = modalImageContainer.getBoundingClientRect();
                const windowHeight = window.innerHeight;
                
                // Calculate visible percentage
                const visibleHeight = Math.min(containerRect.bottom, windowHeight) - Math.max(containerRect.top, 0);
                const visiblePercent = Math.max(0, visibleHeight / containerRect.height);
                
                // Map visibility (10% to 100%) to scale (1.1 to 1.0)
                // Below 10% visibility = scale 1.1, at 100% visibility = scale 1.0
                const startVisibility = 0.1;
                const progress = Math.max(0, Math.min(1, (visiblePercent - startVisibility) / (1 - startVisibility)));
                const scale = 1.1 - (progress * 0.1);
                
                modalImage.style.setProperty('--image-scale', scale);
                
                // Show credit when image bottom is at least 25px above viewport bottom (only once)
                if (containerRect.bottom < windowHeight - 25 && !illustrationCredit.classList.contains('visible')) {
                    illustrationCredit.classList.add('visible');
                }
            }
        });

    </script>
</body>
</html>
